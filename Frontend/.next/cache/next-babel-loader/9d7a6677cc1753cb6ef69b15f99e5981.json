{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/vancetan/Documents/the-next-stage/Frontend/pages/gallery/[id].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { queryCache } from \"react-query\";\nimport { fetchTotal, fetchArtefacts } from \"../../utils/fetch\";\nimport SectionTitleBar from \"../../components/SectionTitleBar\";\nimport GalleryModal from \"../../components/GalleryModal\";\nvar Gallery = styled.section.withConfig({\n  displayName: \"id__Gallery\",\n  componentId: \"sc-12tbqn7-0\"\n})([\"position:relative;display:flex;\"]);\n_c = Gallery;\nvar GalleryTitleBar = styled(SectionTitleBar).withConfig({\n  displayName: \"id__GalleryTitleBar\",\n  componentId: \"sc-12tbqn7-1\"\n})([\"padding-top:140px;\"]);\n_c2 = GalleryTitleBar;\nvar GalleryContent = styled.div.withConfig({\n  displayName: \"id__GalleryContent\",\n  componentId: \"sc-12tbqn7-2\"\n})([\"padding:150px 100px 50px 100px;width:100%;height:200vh;@media (max-width:1200px){padding:150px 75px 50px 75px;}@media (max-width:896px){padding:150px 50px 50px 50px;}@media (max-width:600px){padding:150px 20px 50px 20px;}\"]);\n_c3 = GalleryContent;\n\nvar GalleryItemPage = function GalleryItemPage(_ref) {\n  _s();\n\n  var artefact = _ref.artefact;\n  var router = useRouter();\n  useEffect(function () {\n    router.prefetch(\"/gallery\");\n    queryCache.prefetchQuery(\"total\", function () {\n      return fetchTotal();\n    });\n    queryCache.prefetchQuery([\"artefacts\", 1], function () {\n      return fetchArtefacts(1);\n    });\n  }, []);\n\n  var closeModal = function closeModal() {\n    router.push(\"/gallery\");\n  };\n\n  var title = artefact ? \"Memento By \".concat(artefact.nickname, \"  | The Next Stage \\u2014 In Support of Esplanade\") : \"Loading Memento  | The Next Stage \\u2014 In Support of Esplanade\";\n  var url = artefact ? \"https://thenextstage.sg/gallery/\".concat(artefact.id) : \"https://thenextstage.sg/gallery\";\n  return __jsx(Gallery, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    key: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, title), __jsx(\"link\", {\n    rel: \"canonical\",\n    href: url,\n    key: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:title\",\n    content: title,\n    key: \"og-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:url\",\n    content: url,\n    key: \"og-url\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    property: \"twitter:title\",\n    content: title,\n    key: \"twitter-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    property: \"twitter:url\",\n    content: url,\n    key: \"twitter-url\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  })), __jsx(GalleryTitleBar, {\n    position: \"left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, \"gallery\"), __jsx(GalleryContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), __jsx(GalleryModal, {\n    content: artefact,\n    closeHandler: closeModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(GalleryItemPage, \"vQduR7x+OPXj6PSmJyFnf+hU7bg=\", false, function () {\n  return [useRouter];\n});\n\n_c4 = GalleryItemPage;\nexport var __N_SSG = true;\nexport default GalleryItemPage;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Gallery\");\n$RefreshReg$(_c2, \"GalleryTitleBar\");\n$RefreshReg$(_c3, \"GalleryContent\");\n$RefreshReg$(_c4, \"GalleryItemPage\");","map":{"version":3,"sources":["/Users/vancetan/Documents/the-next-stage/Frontend/pages/gallery/[id].js"],"names":["useEffect","styled","Head","useRouter","queryCache","fetchTotal","fetchArtefacts","SectionTitleBar","GalleryModal","Gallery","section","GalleryTitleBar","GalleryContent","div","GalleryItemPage","artefact","router","prefetch","prefetchQuery","closeModal","push","title","nickname","url","id"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { queryCache } from \"react-query\";\n\nimport { fetchTotal, fetchArtefacts } from \"../../utils/fetch\";\n\nimport SectionTitleBar from \"../../components/SectionTitleBar\";\nimport GalleryModal from \"../../components/GalleryModal\";\n\nconst Gallery = styled.section`\n  position: relative;\n  display: flex;\n`;\n\nconst GalleryTitleBar = styled(SectionTitleBar)`\n  padding-top: 140px;\n`;\n\nconst GalleryContent = styled.div`\n  padding: 150px 100px 50px 100px;\n  width: 100%;\n  height: 200vh;\n\n  @media (max-width: 1200px) {\n    padding: 150px 75px 50px 75px;\n  }\n\n  @media (max-width: 896px) {\n    padding: 150px 50px 50px 50px;\n  }\n\n  @media (max-width: 600px) {\n    padding: 150px 20px 50px 20px;\n  }\n`;\n\nexport async function getStaticProps({ params }) {\n  const fetchedArtefact = await fetch(\n    `https://the-next-stage.herokuapp.com/api/artefact/${params.id}`\n  ).then((res) => res.json());\n\n  return {\n    props: {\n      artefact: fetchedArtefact.data,\n    },\n  };\n}\n\nexport async function getStaticPaths() {\n  return {\n    paths: [{ params: { id: \"ckdjjdcgb001515vvi0gxucgk\" } }],\n    fallback: true,\n  };\n}\n\nconst GalleryItemPage = ({ artefact }) => {\n  const router = useRouter();\n\n  useEffect(() => {\n    router.prefetch(\"/gallery\");\n    queryCache.prefetchQuery(\"total\", () => fetchTotal());\n    queryCache.prefetchQuery([\"artefacts\", 1], () => fetchArtefacts(1));\n  }, []);\n\n  const closeModal = () => {\n    router.push(\"/gallery\");\n  };\n\n  const title = artefact\n    ? `Memento By ${artefact.nickname}  | The Next Stage — In Support of Esplanade`\n    : `Loading Memento  | The Next Stage — In Support of Esplanade`;\n  const url = artefact\n    ? `https://thenextstage.sg/gallery/${artefact.id}`\n    : `https://thenextstage.sg/gallery`;\n\n  return (\n    <Gallery>\n      <Head>\n        <title key=\"title\">{title}</title>\n        <link rel=\"canonical\" href={url} key=\"link\" />\n\n        <meta property=\"og:title\" content={title} key=\"og-title\" />\n        <meta property=\"og:url\" content={url} key=\"og-url\" />\n\n        <meta property=\"twitter:title\" content={title} key=\"twitter-title\" />\n        <meta property=\"twitter:url\" content={url} key=\"twitter-url\" />\n      </Head>\n      <GalleryTitleBar position=\"left\">gallery</GalleryTitleBar>\n      <GalleryContent></GalleryContent>\n      <GalleryModal content={artefact} closeHandler={closeModal} />\n    </Gallery>\n  );\n};\n\nexport default GalleryItemPage;\n"]},"metadata":{},"sourceType":"module"}