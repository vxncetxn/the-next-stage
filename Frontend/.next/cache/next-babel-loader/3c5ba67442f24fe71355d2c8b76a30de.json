{"ast":null,"code":"var _jsxFileName = \"/Users/vancetan/Documents/the-next-stage/Frontend/pages/gallery/[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { queryCache } from \"react-query\";\nimport { fetchTotal, fetchArtefacts } from \"../../utils/fetch\";\nimport SectionTitleBar from \"../../components/SectionTitleBar\";\nimport GalleryModal from \"../../components/GalleryModal\";\nconst Gallery = styled.section.withConfig({\n  displayName: \"id__Gallery\",\n  componentId: \"sc-12tbqn7-0\"\n})([\"position:relative;display:flex;\"]);\nconst GalleryTitleBar = styled(SectionTitleBar).withConfig({\n  displayName: \"id__GalleryTitleBar\",\n  componentId: \"sc-12tbqn7-1\"\n})([\"padding-top:140px;\"]);\nconst GalleryContent = styled.div.withConfig({\n  displayName: \"id__GalleryContent\",\n  componentId: \"sc-12tbqn7-2\"\n})([\"padding:150px 100px 50px 100px;width:100%;height:200vh;@media (max-width:1200px){padding:150px 75px 50px 75px;}@media (max-width:896px){padding:150px 50px 50px 50px;}@media (max-width:600px){padding:150px 20px 50px 20px;}\"]);\nexport async function getStaticProps({\n  params\n}) {\n  const fetchedArtefact = await fetch(`https://the-next-stage.herokuapp.com/api/artefact/${params.id}`).then(res => res.json());\n  return {\n    props: {\n      artefact: fetchedArtefact.data\n    }\n  };\n}\nexport async function getStaticPaths() {\n  return {\n    paths: [{\n      params: {\n        id: \"ckdjjdcgb001515vvi0gxucgk\"\n      }\n    }],\n    fallback: true\n  };\n}\n\nconst GalleryItemPage = ({\n  artefact\n}) => {\n  const router = useRouter();\n  useEffect(() => {\n    router.prefetch(\"/gallery\");\n    queryCache.prefetchQuery(\"total\", () => fetchTotal());\n    queryCache.prefetchQuery([\"artefacts\", 1], () => fetchArtefacts(1));\n  }, []);\n\n  const closeModal = () => {\n    router.push(\"/gallery\");\n  };\n\n  const title = artefact ? `Memento By ${artefact.nickname}  | The Next Stage — In Support of Esplanade` : `Loading Memento  | The Next Stage — In Support of Esplanade`;\n  const url = artefact ? `https://thenextstage.sg/gallery/${artefact.id}` : `https://thenextstage.sg/gallery`;\n  return __jsx(Gallery, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    key: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, title), __jsx(\"link\", {\n    rel: \"canonical\",\n    href: url,\n    key: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:title\",\n    content: title,\n    key: \"og-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:url\",\n    content: url,\n    key: \"og-url\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    property: \"twitter:title\",\n    content: title,\n    key: \"twitter-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    property: \"twitter:url\",\n    content: url,\n    key: \"twitter-url\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  })), __jsx(GalleryTitleBar, {\n    position: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, \"gallery\"), __jsx(GalleryContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), __jsx(GalleryModal, {\n    content: artefact,\n    closeHandler: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default GalleryItemPage;","map":{"version":3,"sources":["/Users/vancetan/Documents/the-next-stage/Frontend/pages/gallery/[id].js"],"names":["useEffect","styled","Head","useRouter","queryCache","fetchTotal","fetchArtefacts","SectionTitleBar","GalleryModal","Gallery","section","GalleryTitleBar","GalleryContent","div","getStaticProps","params","fetchedArtefact","fetch","id","then","res","json","props","artefact","data","getStaticPaths","paths","fallback","GalleryItemPage","router","prefetch","prefetchQuery","closeModal","push","title","nickname","url"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { queryCache } from \"react-query\";\n\nimport { fetchTotal, fetchArtefacts } from \"../../utils/fetch\";\n\nimport SectionTitleBar from \"../../components/SectionTitleBar\";\nimport GalleryModal from \"../../components/GalleryModal\";\n\nconst Gallery = styled.section`\n  position: relative;\n  display: flex;\n`;\n\nconst GalleryTitleBar = styled(SectionTitleBar)`\n  padding-top: 140px;\n`;\n\nconst GalleryContent = styled.div`\n  padding: 150px 100px 50px 100px;\n  width: 100%;\n  height: 200vh;\n\n  @media (max-width: 1200px) {\n    padding: 150px 75px 50px 75px;\n  }\n\n  @media (max-width: 896px) {\n    padding: 150px 50px 50px 50px;\n  }\n\n  @media (max-width: 600px) {\n    padding: 150px 20px 50px 20px;\n  }\n`;\n\nexport async function getStaticProps({ params }) {\n  const fetchedArtefact = await fetch(\n    `https://the-next-stage.herokuapp.com/api/artefact/${params.id}`\n  ).then((res) => res.json());\n\n  return {\n    props: {\n      artefact: fetchedArtefact.data,\n    },\n  };\n}\n\nexport async function getStaticPaths() {\n  return {\n    paths: [{ params: { id: \"ckdjjdcgb001515vvi0gxucgk\" } }],\n    fallback: true,\n  };\n}\n\nconst GalleryItemPage = ({ artefact }) => {\n  const router = useRouter();\n\n  useEffect(() => {\n    router.prefetch(\"/gallery\");\n    queryCache.prefetchQuery(\"total\", () => fetchTotal());\n    queryCache.prefetchQuery([\"artefacts\", 1], () => fetchArtefacts(1));\n  }, []);\n\n  const closeModal = () => {\n    router.push(\"/gallery\");\n  };\n\n  const title = artefact\n    ? `Memento By ${artefact.nickname}  | The Next Stage — In Support of Esplanade`\n    : `Loading Memento  | The Next Stage — In Support of Esplanade`;\n  const url = artefact\n    ? `https://thenextstage.sg/gallery/${artefact.id}`\n    : `https://thenextstage.sg/gallery`;\n\n  return (\n    <Gallery>\n      <Head>\n        <title key=\"title\">{title}</title>\n        <link rel=\"canonical\" href={url} key=\"link\" />\n\n        <meta property=\"og:title\" content={title} key=\"og-title\" />\n        <meta property=\"og:url\" content={url} key=\"og-url\" />\n\n        <meta property=\"twitter:title\" content={title} key=\"twitter-title\" />\n        <meta property=\"twitter:url\" content={url} key=\"twitter-url\" />\n      </Head>\n      <GalleryTitleBar position=\"left\">gallery</GalleryTitleBar>\n      <GalleryContent></GalleryContent>\n      <GalleryModal content={artefact} closeHandler={closeModal} />\n    </Gallery>\n  );\n};\n\nexport default GalleryItemPage;\n"]},"metadata":{},"sourceType":"module"}